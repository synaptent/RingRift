# ==============================================================================
# PYTEST CONFIGURATION - Global Test Timeout for CI Safety
# ==============================================================================
# This configuration provides a safety net to prevent tests from hanging
# indefinitely in CI environments. Individual tests may override with
# @pytest.mark.timeout(seconds) when needed.
#
# 60 seconds is generous enough for complex AI training/inference tests while
# still catching infinite loops and hung operations within a reasonable time.
# ==============================================================================

[pytest]
# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Asyncio mode for async tests
asyncio_mode = auto

# Global timeout: 60 seconds per test (requires pytest-timeout)
# Uses 'thread' method for compatibility with async tests
timeout = 60
timeout_method = thread

# Fail fast on timeout rather than just warning
timeout_func_only = true

# Markers
markers =
    timeout: set custom test timeout (overrides default)
    slow: marks tests as slow (deselect with '-m "not slow"')
    mcts: marks tests as MCTS tests (deselect with '-m "not mcts"', enable with ENABLE_MCTS_TESTS=true)