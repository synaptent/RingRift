{
  "board_type": "square8",
  "canonical_history": {},
  "canonical_ok": false,
  "db_path": "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db",
  "num_games_requested": 0,
  "num_players": 2,
  "parity_gate": {
    "board_type": "square8",
    "db_path": "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db",
    "db_paths_checked": [
      "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db"
    ],
    "hosts": null,
    "max_moves": 200,
    "num_games": 0,
    "num_players": 2,
    "parity_summary": {
      "end_of_game_only_divergences": [],
      "games_with_end_of_game_only_divergence": 0,
      "games_with_semantic_divergence": 0,
      "games_with_structural_issues": 14,
      "mismatch_counts_by_dimension": {},
      "returncode": 0,
      "semantic_divergences": [],
      "structural_issues": [
        {
          "db_path": "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db",
          "game_id": "b073bff5-e101-403d-9d85-d7141549d849",
          "structure": "error",
          "structure_reason": "RuntimeError: TS replay harness failed for /Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db / b073bff5-e101-403d-9d85-d7141549d849 with code 1:\nSTDOUT:\n[dotenv@17.2.3] injecting env (0) from .env -- tip: \ud83d\udd04 add secrets lifecycle management: https://dotenvx.com/ops\n{\"kind\":\"ts-replay-initial\",\"dbPath\":\"/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db\",\"gameId\":\"b073bff5-e101-403d-9d85-d7141549d849\",\"totalRecordedMoves\":78,\"summary\":{\"currentPlayer\":1,\"currentPhase\":\"ring_placement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"8fb582fc40b1f137\",\"label\":\"initial\"}}\n{\"kind\":\"ts-replay-step\",\"k\":1,\"moveType\":\"place_ring\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_1\",\"currentPlayer\":1,\"currentPhase\":\"movement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"244d7df4aa8f1902\"}}\n{\"kind\":\"ts-replay-step\",\"k\":2,\"moveType\":\"move_stack\",\"movePlayer\":1,\"moveNumber\":2,\"summary\":{\"label\":\"after_move_2\",\"currentPlayer\":1,\"currentPhase\":\"line_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"46a7f50eafbe7802\"}}\n{\"kind\":\"ts-replay-step\",\"k\":3,\"moveType\":\"no_line_action\",\"movePlayer\":1,\"moveNumber\":3,\"summary\":{\"label\":\"after_move_3\",\"currentPlayer\":1,\"currentPhase\":\"territory_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"921da144c97fd233\"}}\n\nSTDERR:\n{\n  \"kind\": \"ts-replay-error\",\n  \"k\": 4,\n  \"move\": {\n    \"id\": \"simulated\",\n    \"type\": \"place_ring\",\n    \"player\": 2,\n    \"to\": {\n      \"x\": 0,\n      \"y\": 5,\n      \"z\": null\n    },\n    \"captureTarget\": null,\n    \"capturedStacks\": null,\n    \"captureChain\": null,\n    \"overtakenRings\": null,\n    \"placedOnStack\": false,\n    \"placementCount\": 1,\n    \"stackMoved\": null,\n    \"minimumDistance\": null,\n    \"actualDistance\": null,\n    \"markerLeft\": null,\n    \"formedLines\": null,\n    \"collapsedMarkers\": null,\n    \"claimedTerritory\": null,\n    \"disconnectedRegions\": null,\n    \"recoveryOption\": null,\n    \"collapsePositions\": null,\n    \"extractionStacks\": null,\n    \"eliminatedRings\": null,\n    \"timestamp\": \"2025-12-09T06:53:28.327Z\",\n    \"thinkTime\": 0,\n    \"moveNumber\": 1\n  },\n  \"error\": \"[PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\",\n  \"stateSummary\": {\n    \"label\": \"error\",\n    \"currentPlayer\": 1,\n    \"currentPhase\": \"territory_processing\",\n    \"gameStatus\": \"active\",\n    \"moveHistoryLength\": 0,\n    \"stateHash\": \"921da144c97fd233\"\n  }\n}\n[selfplay-db-ts-replay] Fatal error: Error: [PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\n    at runReplayMode (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:435:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async main (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:672:5)\n"
        },
        {
          "db_path": "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db",
          "game_id": "e21b7f4a-c74f-4514-aa56-56461365c1fe",
          "structure": "error",
          "structure_reason": "RuntimeError: TS replay harness failed for /Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db / e21b7f4a-c74f-4514-aa56-56461365c1fe with code 1:\nSTDOUT:\n[dotenv@17.2.3] injecting env (0) from .env -- tip: \u2699\ufe0f  load multiple .env files with { path: ['.env.local', '.env'] }\n{\"kind\":\"ts-replay-initial\",\"dbPath\":\"/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db\",\"gameId\":\"e21b7f4a-c74f-4514-aa56-56461365c1fe\",\"totalRecordedMoves\":83,\"summary\":{\"currentPlayer\":1,\"currentPhase\":\"ring_placement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"8fb582fc40b1f137\",\"label\":\"initial\"}}\n{\"kind\":\"ts-replay-step\",\"k\":1,\"moveType\":\"place_ring\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_1\",\"currentPlayer\":1,\"currentPhase\":\"movement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"a230807c2b522460\"}}\n{\"kind\":\"ts-replay-step\",\"k\":2,\"moveType\":\"move_stack\",\"movePlayer\":1,\"moveNumber\":2,\"summary\":{\"label\":\"after_move_2\",\"currentPlayer\":1,\"currentPhase\":\"line_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"f47536528b028c5f\"}}\n{\"kind\":\"ts-replay-step\",\"k\":3,\"moveType\":\"no_line_action\",\"movePlayer\":1,\"moveNumber\":3,\"summary\":{\"label\":\"after_move_3\",\"currentPlayer\":1,\"currentPhase\":\"territory_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"f355b3f159bb0b8f\"}}\n\nSTDERR:\n{\n  \"kind\": \"ts-replay-error\",\n  \"k\": 4,\n  \"move\": {\n    \"id\": \"simulated\",\n    \"type\": \"place_ring\",\n    \"player\": 2,\n    \"to\": {\n      \"x\": 0,\n      \"y\": 1,\n      \"z\": null\n    },\n    \"captureTarget\": null,\n    \"capturedStacks\": null,\n    \"captureChain\": null,\n    \"overtakenRings\": null,\n    \"placedOnStack\": false,\n    \"placementCount\": 3,\n    \"stackMoved\": null,\n    \"minimumDistance\": null,\n    \"actualDistance\": null,\n    \"markerLeft\": null,\n    \"formedLines\": null,\n    \"collapsedMarkers\": null,\n    \"claimedTerritory\": null,\n    \"disconnectedRegions\": null,\n    \"recoveryOption\": null,\n    \"collapsePositions\": null,\n    \"extractionStacks\": null,\n    \"eliminatedRings\": null,\n    \"timestamp\": \"2025-12-09T06:53:28.327Z\",\n    \"thinkTime\": 0,\n    \"moveNumber\": 1\n  },\n  \"error\": \"[PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\",\n  \"stateSummary\": {\n    \"label\": \"error\",\n    \"currentPlayer\": 1,\n    \"currentPhase\": \"territory_processing\",\n    \"gameStatus\": \"active\",\n    \"moveHistoryLength\": 0,\n    \"stateHash\": \"f355b3f159bb0b8f\"\n  }\n}\n[selfplay-db-ts-replay] Fatal error: Error: [PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\n    at runReplayMode (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:435:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async main (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:672:5)\n"
        },
        {
          "db_path": "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db",
          "game_id": "cb801530-5485-4c0f-bc88-a84b5f1cdb49",
          "structure": "error",
          "structure_reason": "RuntimeError: TS replay harness failed for /Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db / cb801530-5485-4c0f-bc88-a84b5f1cdb49 with code 1:\nSTDOUT:\n[dotenv@17.2.3] injecting env (0) from .env -- tip: \ud83d\uddc2\ufe0f backup and recover secrets: https://dotenvx.com/ops\n{\"kind\":\"ts-replay-initial\",\"dbPath\":\"/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db\",\"gameId\":\"cb801530-5485-4c0f-bc88-a84b5f1cdb49\",\"totalRecordedMoves\":109,\"summary\":{\"currentPlayer\":1,\"currentPhase\":\"ring_placement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"8fb582fc40b1f137\",\"label\":\"initial\"}}\n{\"kind\":\"ts-replay-step\",\"k\":1,\"moveType\":\"place_ring\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_1\",\"currentPlayer\":1,\"currentPhase\":\"movement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"8dd40b50c4467b1d\"}}\n{\"kind\":\"ts-replay-step\",\"k\":2,\"moveType\":\"move_stack\",\"movePlayer\":1,\"moveNumber\":2,\"summary\":{\"label\":\"after_move_2\",\"currentPlayer\":1,\"currentPhase\":\"line_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"a0faba0a1371e5ab\"}}\n{\"kind\":\"ts-replay-step\",\"k\":3,\"moveType\":\"no_line_action\",\"movePlayer\":1,\"moveNumber\":3,\"summary\":{\"label\":\"after_move_3\",\"currentPlayer\":1,\"currentPhase\":\"territory_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"ebf900b9dae6e714\"}}\n\nSTDERR:\n{\n  \"kind\": \"ts-replay-error\",\n  \"k\": 4,\n  \"move\": {\n    \"id\": \"simulated\",\n    \"type\": \"place_ring\",\n    \"player\": 2,\n    \"to\": {\n      \"x\": 1,\n      \"y\": 1,\n      \"z\": null\n    },\n    \"captureTarget\": null,\n    \"capturedStacks\": null,\n    \"captureChain\": null,\n    \"overtakenRings\": null,\n    \"placedOnStack\": true,\n    \"placementCount\": 1,\n    \"stackMoved\": null,\n    \"minimumDistance\": null,\n    \"actualDistance\": null,\n    \"markerLeft\": null,\n    \"formedLines\": null,\n    \"collapsedMarkers\": null,\n    \"claimedTerritory\": null,\n    \"disconnectedRegions\": null,\n    \"recoveryOption\": null,\n    \"collapsePositions\": null,\n    \"extractionStacks\": null,\n    \"eliminatedRings\": null,\n    \"timestamp\": \"2025-12-09T06:53:28.327Z\",\n    \"thinkTime\": 0,\n    \"moveNumber\": 1\n  },\n  \"error\": \"[PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\",\n  \"stateSummary\": {\n    \"label\": \"error\",\n    \"currentPlayer\": 1,\n    \"currentPhase\": \"territory_processing\",\n    \"gameStatus\": \"active\",\n    \"moveHistoryLength\": 0,\n    \"stateHash\": \"ebf900b9dae6e714\"\n  }\n}\n[selfplay-db-ts-replay] Fatal error: Error: [PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\n    at runReplayMode (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:435:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async main (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:672:5)\n"
        },
        {
          "db_path": "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db",
          "game_id": "a37c8aee-492c-490d-ace3-3e5249d19ba3",
          "structure": "error",
          "structure_reason": "RuntimeError: TS replay harness failed for /Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db / a37c8aee-492c-490d-ace3-3e5249d19ba3 with code 1:\nSTDOUT:\n[dotenv@17.2.3] injecting env (0) from .env -- tip: \ud83d\udd11 add access controls to secrets: https://dotenvx.com/ops\n{\"kind\":\"ts-replay-initial\",\"dbPath\":\"/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db\",\"gameId\":\"a37c8aee-492c-490d-ace3-3e5249d19ba3\",\"totalRecordedMoves\":86,\"summary\":{\"currentPlayer\":1,\"currentPhase\":\"ring_placement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"8fb582fc40b1f137\",\"label\":\"initial\"}}\n{\"kind\":\"ts-replay-step\",\"k\":1,\"moveType\":\"place_ring\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_1\",\"currentPlayer\":1,\"currentPhase\":\"movement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"17288ba4f242b337\"}}\n{\"kind\":\"ts-replay-step\",\"k\":2,\"moveType\":\"move_stack\",\"movePlayer\":1,\"moveNumber\":2,\"summary\":{\"label\":\"after_move_2\",\"currentPlayer\":1,\"currentPhase\":\"line_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"6da9f7a775a94f24\"}}\n{\"kind\":\"ts-replay-step\",\"k\":3,\"moveType\":\"no_line_action\",\"movePlayer\":1,\"moveNumber\":3,\"summary\":{\"label\":\"after_move_3\",\"currentPlayer\":1,\"currentPhase\":\"territory_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"c7f4bccdb984118a\"}}\n\nSTDERR:\n{\n  \"kind\": \"ts-replay-error\",\n  \"k\": 4,\n  \"move\": {\n    \"id\": \"simulated\",\n    \"type\": \"place_ring\",\n    \"player\": 2,\n    \"to\": {\n      \"x\": 0,\n      \"y\": 2,\n      \"z\": null\n    },\n    \"captureTarget\": null,\n    \"capturedStacks\": null,\n    \"captureChain\": null,\n    \"overtakenRings\": null,\n    \"placedOnStack\": false,\n    \"placementCount\": 1,\n    \"stackMoved\": null,\n    \"minimumDistance\": null,\n    \"actualDistance\": null,\n    \"markerLeft\": null,\n    \"formedLines\": null,\n    \"collapsedMarkers\": null,\n    \"claimedTerritory\": null,\n    \"disconnectedRegions\": null,\n    \"recoveryOption\": null,\n    \"collapsePositions\": null,\n    \"extractionStacks\": null,\n    \"eliminatedRings\": null,\n    \"timestamp\": \"2025-12-09T07:04:20.178Z\",\n    \"thinkTime\": 0,\n    \"moveNumber\": 4\n  },\n  \"error\": \"[PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\",\n  \"stateSummary\": {\n    \"label\": \"error\",\n    \"currentPlayer\": 1,\n    \"currentPhase\": \"territory_processing\",\n    \"gameStatus\": \"active\",\n    \"moveHistoryLength\": 0,\n    \"stateHash\": \"c7f4bccdb984118a\"\n  }\n}\n[selfplay-db-ts-replay] Fatal error: Error: [PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\n    at runReplayMode (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:435:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async main (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:672:5)\n"
        },
        {
          "db_path": "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db",
          "game_id": "09abb436-677e-4767-8f09-101b99f4f958",
          "structure": "error",
          "structure_reason": "RuntimeError: TS replay harness failed for /Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db / 09abb436-677e-4767-8f09-101b99f4f958 with code 1:\nSTDOUT:\n[dotenv@17.2.3] injecting env (0) from .env -- tip: \ud83d\udd11 add access controls to secrets: https://dotenvx.com/ops\n{\"kind\":\"ts-replay-initial\",\"dbPath\":\"/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db\",\"gameId\":\"09abb436-677e-4767-8f09-101b99f4f958\",\"totalRecordedMoves\":80,\"summary\":{\"currentPlayer\":1,\"currentPhase\":\"ring_placement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"8fb582fc40b1f137\",\"label\":\"initial\"}}\n{\"kind\":\"ts-replay-step\",\"k\":1,\"moveType\":\"place_ring\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_1\",\"currentPlayer\":1,\"currentPhase\":\"movement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"c0c2bd10c8292382\"}}\n{\"kind\":\"ts-replay-step\",\"k\":2,\"moveType\":\"move_stack\",\"movePlayer\":1,\"moveNumber\":2,\"summary\":{\"label\":\"after_move_2\",\"currentPlayer\":1,\"currentPhase\":\"line_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"bd109fa845d26b23\"}}\n{\"kind\":\"ts-replay-step\",\"k\":3,\"moveType\":\"no_line_action\",\"movePlayer\":1,\"moveNumber\":3,\"summary\":{\"label\":\"after_move_3\",\"currentPlayer\":1,\"currentPhase\":\"territory_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"69767142395591f7\"}}\n\nSTDERR:\n{\n  \"kind\": \"ts-replay-error\",\n  \"k\": 4,\n  \"move\": {\n    \"id\": \"simulated\",\n    \"type\": \"place_ring\",\n    \"player\": 2,\n    \"to\": {\n      \"x\": 3,\n      \"y\": 1,\n      \"z\": null\n    },\n    \"captureTarget\": null,\n    \"capturedStacks\": null,\n    \"captureChain\": null,\n    \"overtakenRings\": null,\n    \"placedOnStack\": false,\n    \"placementCount\": 2,\n    \"stackMoved\": null,\n    \"minimumDistance\": null,\n    \"actualDistance\": null,\n    \"markerLeft\": null,\n    \"formedLines\": null,\n    \"collapsedMarkers\": null,\n    \"claimedTerritory\": null,\n    \"disconnectedRegions\": null,\n    \"recoveryOption\": null,\n    \"collapsePositions\": null,\n    \"extractionStacks\": null,\n    \"eliminatedRings\": null,\n    \"timestamp\": \"2025-12-09T06:46:43.525Z\",\n    \"thinkTime\": 0,\n    \"moveNumber\": 2\n  },\n  \"error\": \"[PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\",\n  \"stateSummary\": {\n    \"label\": \"error\",\n    \"currentPlayer\": 1,\n    \"currentPhase\": \"territory_processing\",\n    \"gameStatus\": \"active\",\n    \"moveHistoryLength\": 0,\n    \"stateHash\": \"69767142395591f7\"\n  }\n}\n[selfplay-db-ts-replay] Fatal error: Error: [PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\n    at runReplayMode (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:435:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async main (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:672:5)\n"
        },
        {
          "db_path": "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db",
          "game_id": "7df049b2-0a59-4821-97d3-332995dbd1b7",
          "structure": "error",
          "structure_reason": "RuntimeError: TS replay harness failed for /Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db / 7df049b2-0a59-4821-97d3-332995dbd1b7 with code 1:\nSTDOUT:\n[dotenv@17.2.3] injecting env (0) from .env -- tip: \u2699\ufe0f  enable debug logging with { debug: true }\n{\"kind\":\"ts-replay-initial\",\"dbPath\":\"/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db\",\"gameId\":\"7df049b2-0a59-4821-97d3-332995dbd1b7\",\"totalRecordedMoves\":50,\"summary\":{\"currentPlayer\":1,\"currentPhase\":\"ring_placement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"8fb582fc40b1f137\",\"label\":\"initial\"}}\n{\"kind\":\"ts-replay-step\",\"k\":1,\"moveType\":\"place_ring\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_1\",\"currentPlayer\":1,\"currentPhase\":\"movement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"211a016de58bcaa6\"}}\n{\"kind\":\"ts-replay-step\",\"k\":2,\"moveType\":\"move_stack\",\"movePlayer\":1,\"moveNumber\":2,\"summary\":{\"label\":\"after_move_2\",\"currentPlayer\":1,\"currentPhase\":\"line_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"172147a95f8096f5\"}}\n{\"kind\":\"ts-replay-step\",\"k\":3,\"moveType\":\"no_line_action\",\"movePlayer\":1,\"moveNumber\":3,\"summary\":{\"label\":\"after_move_3\",\"currentPlayer\":1,\"currentPhase\":\"territory_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"df20f2f11f5d0bdc\"}}\n\nSTDERR:\n{\n  \"kind\": \"ts-replay-error\",\n  \"k\": 4,\n  \"move\": {\n    \"id\": \"simulated\",\n    \"type\": \"place_ring\",\n    \"player\": 2,\n    \"to\": {\n      \"x\": 0,\n      \"y\": 5,\n      \"z\": null\n    },\n    \"captureTarget\": null,\n    \"capturedStacks\": null,\n    \"captureChain\": null,\n    \"overtakenRings\": null,\n    \"placedOnStack\": false,\n    \"placementCount\": 2,\n    \"stackMoved\": null,\n    \"minimumDistance\": null,\n    \"actualDistance\": null,\n    \"markerLeft\": null,\n    \"formedLines\": null,\n    \"collapsedMarkers\": null,\n    \"claimedTerritory\": null,\n    \"disconnectedRegions\": null,\n    \"recoveryOption\": null,\n    \"collapsePositions\": null,\n    \"extractionStacks\": null,\n    \"eliminatedRings\": null,\n    \"timestamp\": \"2025-12-09T06:46:44.051Z\",\n    \"thinkTime\": 0,\n    \"moveNumber\": 4\n  },\n  \"error\": \"[PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\",\n  \"stateSummary\": {\n    \"label\": \"error\",\n    \"currentPlayer\": 1,\n    \"currentPhase\": \"territory_processing\",\n    \"gameStatus\": \"active\",\n    \"moveHistoryLength\": 0,\n    \"stateHash\": \"df20f2f11f5d0bdc\"\n  }\n}\n[selfplay-db-ts-replay] Fatal error: Error: [PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\n    at runReplayMode (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:435:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async main (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:672:5)\n"
        },
        {
          "db_path": "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db",
          "game_id": "ebc81d6d-13e8-4058-b0a6-37744ab47e45",
          "structure": "error",
          "structure_reason": "RuntimeError: TS replay harness failed for /Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db / ebc81d6d-13e8-4058-b0a6-37744ab47e45 with code 1:\nSTDOUT:\n[dotenv@17.2.3] injecting env (0) from .env -- tip: \ud83d\udce1 add observability to secrets: https://dotenvx.com/ops\n{\"kind\":\"ts-replay-initial\",\"dbPath\":\"/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db\",\"gameId\":\"ebc81d6d-13e8-4058-b0a6-37744ab47e45\",\"totalRecordedMoves\":119,\"summary\":{\"currentPlayer\":1,\"currentPhase\":\"ring_placement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"8fb582fc40b1f137\",\"label\":\"initial\"}}\n{\"kind\":\"ts-replay-step\",\"k\":1,\"moveType\":\"place_ring\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_1\",\"currentPlayer\":1,\"currentPhase\":\"movement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"d04f45b59f851afc\"}}\n{\"kind\":\"ts-replay-step\",\"k\":2,\"moveType\":\"move_stack\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_2\",\"currentPlayer\":1,\"currentPhase\":\"line_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"2d3102d7ae745a16\"}}\n{\"kind\":\"ts-replay-step\",\"k\":3,\"moveType\":\"no_line_action\",\"movePlayer\":1,\"moveNumber\":3,\"summary\":{\"label\":\"after_move_3\",\"currentPlayer\":1,\"currentPhase\":\"territory_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"ca8a0c7feb8cd696\"}}\n\nSTDERR:\n{\n  \"kind\": \"ts-replay-error\",\n  \"k\": 4,\n  \"move\": {\n    \"id\": \"simulated\",\n    \"type\": \"place_ring\",\n    \"player\": 2,\n    \"to\": {\n      \"x\": 2,\n      \"y\": 1,\n      \"z\": null\n    },\n    \"captureTarget\": null,\n    \"capturedStacks\": null,\n    \"captureChain\": null,\n    \"overtakenRings\": null,\n    \"placedOnStack\": false,\n    \"placementCount\": 1,\n    \"stackMoved\": null,\n    \"minimumDistance\": null,\n    \"actualDistance\": null,\n    \"markerLeft\": null,\n    \"formedLines\": null,\n    \"collapsedMarkers\": null,\n    \"claimedTerritory\": null,\n    \"disconnectedRegions\": null,\n    \"recoveryOption\": null,\n    \"collapsePositions\": null,\n    \"extractionStacks\": null,\n    \"eliminatedRings\": null,\n    \"timestamp\": \"2025-12-09T06:27:11.092Z\",\n    \"thinkTime\": 0,\n    \"moveNumber\": 2\n  },\n  \"error\": \"[PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\",\n  \"stateSummary\": {\n    \"label\": \"error\",\n    \"currentPlayer\": 1,\n    \"currentPhase\": \"territory_processing\",\n    \"gameStatus\": \"active\",\n    \"moveHistoryLength\": 0,\n    \"stateHash\": \"ca8a0c7feb8cd696\"\n  }\n}\n[selfplay-db-ts-replay] Fatal error: Error: [PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\n    at runReplayMode (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:435:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async main (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:672:5)\n"
        },
        {
          "db_path": "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db",
          "game_id": "03e5c232-7d83-461c-b30b-43d68982d16a",
          "structure": "error",
          "structure_reason": "RuntimeError: TS replay harness failed for /Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db / 03e5c232-7d83-461c-b30b-43d68982d16a with code 1:\nSTDOUT:\n[dotenv@17.2.3] injecting env (0) from .env -- tip: \ud83d\udd10 encrypt with Dotenvx: https://dotenvx.com\n{\"kind\":\"ts-replay-initial\",\"dbPath\":\"/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db\",\"gameId\":\"03e5c232-7d83-461c-b30b-43d68982d16a\",\"totalRecordedMoves\":82,\"summary\":{\"currentPlayer\":1,\"currentPhase\":\"ring_placement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"8fb582fc40b1f137\",\"label\":\"initial\"}}\n{\"kind\":\"ts-replay-step\",\"k\":1,\"moveType\":\"place_ring\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_1\",\"currentPlayer\":1,\"currentPhase\":\"movement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"f54a49c81615f964\"}}\n{\"kind\":\"ts-replay-step\",\"k\":2,\"moveType\":\"move_stack\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_2\",\"currentPlayer\":1,\"currentPhase\":\"line_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"ab0063be0dd58add\"}}\n{\"kind\":\"ts-replay-step\",\"k\":3,\"moveType\":\"no_line_action\",\"movePlayer\":1,\"moveNumber\":3,\"summary\":{\"label\":\"after_move_3\",\"currentPlayer\":1,\"currentPhase\":\"territory_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"a9a6291655eaa305\"}}\n\nSTDERR:\n{\n  \"kind\": \"ts-replay-error\",\n  \"k\": 4,\n  \"move\": {\n    \"id\": \"simulated\",\n    \"type\": \"place_ring\",\n    \"player\": 2,\n    \"to\": {\n      \"x\": 2,\n      \"y\": 3,\n      \"z\": null\n    },\n    \"captureTarget\": null,\n    \"capturedStacks\": null,\n    \"captureChain\": null,\n    \"overtakenRings\": null,\n    \"placedOnStack\": false,\n    \"placementCount\": 3,\n    \"stackMoved\": null,\n    \"minimumDistance\": null,\n    \"actualDistance\": null,\n    \"markerLeft\": null,\n    \"formedLines\": null,\n    \"collapsedMarkers\": null,\n    \"claimedTerritory\": null,\n    \"disconnectedRegions\": null,\n    \"recoveryOption\": null,\n    \"collapsePositions\": null,\n    \"extractionStacks\": null,\n    \"eliminatedRings\": null,\n    \"timestamp\": \"2025-12-09T06:54:49.812Z\",\n    \"thinkTime\": 0,\n    \"moveNumber\": 4\n  },\n  \"error\": \"[PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\",\n  \"stateSummary\": {\n    \"label\": \"error\",\n    \"currentPlayer\": 1,\n    \"currentPhase\": \"territory_processing\",\n    \"gameStatus\": \"active\",\n    \"moveHistoryLength\": 0,\n    \"stateHash\": \"a9a6291655eaa305\"\n  }\n}\n[selfplay-db-ts-replay] Fatal error: Error: [PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\n    at runReplayMode (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:435:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async main (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:672:5)\n"
        },
        {
          "db_path": "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db",
          "game_id": "2af8de07-9f47-4daf-9349-69cd3729f4d1",
          "structure": "error",
          "structure_reason": "RuntimeError: TS replay harness failed for /Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db / 2af8de07-9f47-4daf-9349-69cd3729f4d1 with code 1:\nSTDOUT:\n[dotenv@17.2.3] injecting env (0) from .env -- tip: \ud83d\udee0\ufe0f  run anywhere with `dotenvx run -- yourcommand`\n{\"kind\":\"ts-replay-initial\",\"dbPath\":\"/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db\",\"gameId\":\"2af8de07-9f47-4daf-9349-69cd3729f4d1\",\"totalRecordedMoves\":109,\"summary\":{\"currentPlayer\":1,\"currentPhase\":\"ring_placement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"8fb582fc40b1f137\",\"label\":\"initial\"}}\n{\"kind\":\"ts-replay-step\",\"k\":1,\"moveType\":\"place_ring\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_1\",\"currentPlayer\":1,\"currentPhase\":\"movement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"d04f45b59f851afc\"}}\n{\"kind\":\"ts-replay-step\",\"k\":2,\"moveType\":\"move_stack\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_2\",\"currentPlayer\":1,\"currentPhase\":\"line_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"2d3102d7ae745a16\"}}\n{\"kind\":\"ts-replay-step\",\"k\":3,\"moveType\":\"no_line_action\",\"movePlayer\":1,\"moveNumber\":3,\"summary\":{\"label\":\"after_move_3\",\"currentPlayer\":1,\"currentPhase\":\"territory_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"ca8a0c7feb8cd696\"}}\n\nSTDERR:\n{\n  \"kind\": \"ts-replay-error\",\n  \"k\": 4,\n  \"move\": {\n    \"id\": \"simulated\",\n    \"type\": \"place_ring\",\n    \"player\": 2,\n    \"to\": {\n      \"x\": 5,\n      \"y\": 7,\n      \"z\": null\n    },\n    \"captureTarget\": null,\n    \"capturedStacks\": null,\n    \"captureChain\": null,\n    \"overtakenRings\": null,\n    \"placedOnStack\": false,\n    \"placementCount\": 1,\n    \"stackMoved\": null,\n    \"minimumDistance\": null,\n    \"actualDistance\": null,\n    \"markerLeft\": null,\n    \"formedLines\": null,\n    \"collapsedMarkers\": null,\n    \"claimedTerritory\": null,\n    \"disconnectedRegions\": null,\n    \"recoveryOption\": null,\n    \"collapsePositions\": null,\n    \"extractionStacks\": null,\n    \"eliminatedRings\": null,\n    \"timestamp\": \"2025-12-09T06:27:11.092Z\",\n    \"thinkTime\": 0,\n    \"moveNumber\": 2\n  },\n  \"error\": \"[PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\",\n  \"stateSummary\": {\n    \"label\": \"error\",\n    \"currentPlayer\": 1,\n    \"currentPhase\": \"territory_processing\",\n    \"gameStatus\": \"active\",\n    \"moveHistoryLength\": 0,\n    \"stateHash\": \"ca8a0c7feb8cd696\"\n  }\n}\n[selfplay-db-ts-replay] Fatal error: Error: [PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\n    at runReplayMode (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:435:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async main (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:672:5)\n"
        },
        {
          "db_path": "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db",
          "game_id": "7119bb75-2cb9-4981-868f-8170459e25b7",
          "structure": "error",
          "structure_reason": "RuntimeError: TS replay harness failed for /Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db / 7119bb75-2cb9-4981-868f-8170459e25b7 with code 1:\nSTDOUT:\n[dotenv@17.2.3] injecting env (0) from .env -- tip: \ud83d\uddc2\ufe0f backup and recover secrets: https://dotenvx.com/ops\n{\"kind\":\"ts-replay-initial\",\"dbPath\":\"/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db\",\"gameId\":\"7119bb75-2cb9-4981-868f-8170459e25b7\",\"totalRecordedMoves\":102,\"summary\":{\"currentPlayer\":1,\"currentPhase\":\"ring_placement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"8fb582fc40b1f137\",\"label\":\"initial\"}}\n{\"kind\":\"ts-replay-step\",\"k\":1,\"moveType\":\"place_ring\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_1\",\"currentPlayer\":1,\"currentPhase\":\"movement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"8074415ed75d2cdc\"}}\n{\"kind\":\"ts-replay-step\",\"k\":2,\"moveType\":\"move_stack\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_2\",\"currentPlayer\":1,\"currentPhase\":\"line_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"123bed0508d1a648\"}}\n{\"kind\":\"ts-replay-step\",\"k\":3,\"moveType\":\"no_line_action\",\"movePlayer\":1,\"moveNumber\":3,\"summary\":{\"label\":\"after_move_3\",\"currentPlayer\":1,\"currentPhase\":\"territory_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"bcbbe71700a807bd\"}}\n\nSTDERR:\n{\n  \"kind\": \"ts-replay-error\",\n  \"k\": 4,\n  \"move\": {\n    \"id\": \"simulated\",\n    \"type\": \"place_ring\",\n    \"player\": 2,\n    \"to\": {\n      \"x\": 2,\n      \"y\": 3,\n      \"z\": null\n    },\n    \"captureTarget\": null,\n    \"capturedStacks\": null,\n    \"captureChain\": null,\n    \"overtakenRings\": null,\n    \"placedOnStack\": false,\n    \"placementCount\": 3,\n    \"stackMoved\": null,\n    \"minimumDistance\": null,\n    \"actualDistance\": null,\n    \"markerLeft\": null,\n    \"formedLines\": null,\n    \"collapsedMarkers\": null,\n    \"claimedTerritory\": null,\n    \"disconnectedRegions\": null,\n    \"recoveryOption\": null,\n    \"collapsePositions\": null,\n    \"extractionStacks\": null,\n    \"eliminatedRings\": null,\n    \"timestamp\": \"2025-12-09T06:32:21.899Z\",\n    \"thinkTime\": 0,\n    \"moveNumber\": 1\n  },\n  \"error\": \"[PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\",\n  \"stateSummary\": {\n    \"label\": \"error\",\n    \"currentPlayer\": 1,\n    \"currentPhase\": \"territory_processing\",\n    \"gameStatus\": \"active\",\n    \"moveHistoryLength\": 0,\n    \"stateHash\": \"bcbbe71700a807bd\"\n  }\n}\n[selfplay-db-ts-replay] Fatal error: Error: [PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\n    at runReplayMode (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:435:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async main (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:672:5)\n"
        },
        {
          "db_path": "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db",
          "game_id": "3e4ec080-ebda-46ce-8f4b-d84fd799a8de",
          "structure": "error",
          "structure_reason": "RuntimeError: TS replay harness failed for /Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db / 3e4ec080-ebda-46ce-8f4b-d84fd799a8de with code 1:\nSTDOUT:\n[dotenv@17.2.3] injecting env (0) from .env -- tip: \ud83d\udc65 sync secrets across teammates & machines: https://dotenvx.com/ops\n{\"kind\":\"ts-replay-initial\",\"dbPath\":\"/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db\",\"gameId\":\"3e4ec080-ebda-46ce-8f4b-d84fd799a8de\",\"totalRecordedMoves\":59,\"summary\":{\"currentPlayer\":1,\"currentPhase\":\"ring_placement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"8fb582fc40b1f137\",\"label\":\"initial\"}}\n{\"kind\":\"ts-replay-step\",\"k\":1,\"moveType\":\"place_ring\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_1\",\"currentPlayer\":1,\"currentPhase\":\"movement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"6b7b274f09511ba2\"}}\n{\"kind\":\"ts-replay-step\",\"k\":2,\"moveType\":\"move_stack\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_2\",\"currentPlayer\":1,\"currentPhase\":\"line_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"2544379686bc2f4e\"}}\n{\"kind\":\"ts-replay-step\",\"k\":3,\"moveType\":\"no_line_action\",\"movePlayer\":1,\"moveNumber\":3,\"summary\":{\"label\":\"after_move_3\",\"currentPlayer\":1,\"currentPhase\":\"territory_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"cab200de99e7f174\"}}\n\nSTDERR:\n{\n  \"kind\": \"ts-replay-error\",\n  \"k\": 4,\n  \"move\": {\n    \"id\": \"simulated\",\n    \"type\": \"place_ring\",\n    \"player\": 2,\n    \"to\": {\n      \"x\": 3,\n      \"y\": 7,\n      \"z\": null\n    },\n    \"captureTarget\": null,\n    \"capturedStacks\": null,\n    \"captureChain\": null,\n    \"overtakenRings\": null,\n    \"placedOnStack\": false,\n    \"placementCount\": 1,\n    \"stackMoved\": null,\n    \"minimumDistance\": null,\n    \"actualDistance\": null,\n    \"markerLeft\": null,\n    \"formedLines\": null,\n    \"collapsedMarkers\": null,\n    \"claimedTerritory\": null,\n    \"disconnectedRegions\": null,\n    \"recoveryOption\": null,\n    \"collapsePositions\": null,\n    \"extractionStacks\": null,\n    \"eliminatedRings\": null,\n    \"timestamp\": \"2025-12-09T06:50:10.343Z\",\n    \"thinkTime\": 0,\n    \"moveNumber\": 1\n  },\n  \"error\": \"[PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\",\n  \"stateSummary\": {\n    \"label\": \"error\",\n    \"currentPlayer\": 1,\n    \"currentPhase\": \"territory_processing\",\n    \"gameStatus\": \"active\",\n    \"moveHistoryLength\": 0,\n    \"stateHash\": \"cab200de99e7f174\"\n  }\n}\n[selfplay-db-ts-replay] Fatal error: Error: [PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\n    at runReplayMode (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:435:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async main (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:672:5)\n"
        },
        {
          "db_path": "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db",
          "game_id": "09e58864-8867-447e-ba40-1fc5b1ff8550",
          "structure": "error",
          "structure_reason": "RuntimeError: TS replay harness failed for /Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db / 09e58864-8867-447e-ba40-1fc5b1ff8550 with code 1:\nSTDOUT:\n[dotenv@17.2.3] injecting env (0) from .env -- tip: \ud83d\udd10 prevent committing .env to code: https://dotenvx.com/precommit\n{\"kind\":\"ts-replay-initial\",\"dbPath\":\"/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db\",\"gameId\":\"09e58864-8867-447e-ba40-1fc5b1ff8550\",\"totalRecordedMoves\":88,\"summary\":{\"currentPlayer\":1,\"currentPhase\":\"ring_placement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"8fb582fc40b1f137\",\"label\":\"initial\"}}\n{\"kind\":\"ts-replay-step\",\"k\":1,\"moveType\":\"place_ring\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_1\",\"currentPlayer\":1,\"currentPhase\":\"movement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"211a016de58bcaa6\"}}\n{\"kind\":\"ts-replay-step\",\"k\":2,\"moveType\":\"move_stack\",\"movePlayer\":1,\"moveNumber\":2,\"summary\":{\"label\":\"after_move_2\",\"currentPlayer\":1,\"currentPhase\":\"line_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"172147a95f8096f5\"}}\n{\"kind\":\"ts-replay-step\",\"k\":3,\"moveType\":\"no_line_action\",\"movePlayer\":1,\"moveNumber\":3,\"summary\":{\"label\":\"after_move_3\",\"currentPlayer\":1,\"currentPhase\":\"territory_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"df20f2f11f5d0bdc\"}}\n\nSTDERR:\n{\n  \"kind\": \"ts-replay-error\",\n  \"k\": 4,\n  \"move\": {\n    \"id\": \"simulated\",\n    \"type\": \"place_ring\",\n    \"player\": 2,\n    \"to\": {\n      \"x\": 0,\n      \"y\": 0,\n      \"z\": null\n    },\n    \"captureTarget\": null,\n    \"capturedStacks\": null,\n    \"captureChain\": null,\n    \"overtakenRings\": null,\n    \"placedOnStack\": false,\n    \"placementCount\": 2,\n    \"stackMoved\": null,\n    \"minimumDistance\": null,\n    \"actualDistance\": null,\n    \"markerLeft\": null,\n    \"formedLines\": null,\n    \"collapsedMarkers\": null,\n    \"claimedTerritory\": null,\n    \"disconnectedRegions\": null,\n    \"recoveryOption\": null,\n    \"collapsePositions\": null,\n    \"extractionStacks\": null,\n    \"eliminatedRings\": null,\n    \"timestamp\": \"2025-12-09T06:46:44.051Z\",\n    \"thinkTime\": 0,\n    \"moveNumber\": 4\n  },\n  \"error\": \"[PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\",\n  \"stateSummary\": {\n    \"label\": \"error\",\n    \"currentPlayer\": 1,\n    \"currentPhase\": \"territory_processing\",\n    \"gameStatus\": \"active\",\n    \"moveHistoryLength\": 0,\n    \"stateHash\": \"df20f2f11f5d0bdc\"\n  }\n}\n[selfplay-db-ts-replay] Fatal error: Error: [PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\n    at runReplayMode (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:435:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async main (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:672:5)\n"
        },
        {
          "db_path": "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db",
          "game_id": "3d412a95-30f0-4fae-b3a5-56f2a0ddefab",
          "structure": "error",
          "structure_reason": "RuntimeError: TS replay harness failed for /Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db / 3d412a95-30f0-4fae-b3a5-56f2a0ddefab with code 1:\nSTDOUT:\n[dotenv@17.2.3] injecting env (0) from .env -- tip: \ud83d\udd10 encrypt with Dotenvx: https://dotenvx.com\n{\"kind\":\"ts-replay-initial\",\"dbPath\":\"/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db\",\"gameId\":\"3d412a95-30f0-4fae-b3a5-56f2a0ddefab\",\"totalRecordedMoves\":108,\"summary\":{\"currentPlayer\":1,\"currentPhase\":\"ring_placement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"8fb582fc40b1f137\",\"label\":\"initial\"}}\n{\"kind\":\"ts-replay-step\",\"k\":1,\"moveType\":\"place_ring\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_1\",\"currentPlayer\":1,\"currentPhase\":\"movement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"33e65968d592942f\"}}\n{\"kind\":\"ts-replay-step\",\"k\":2,\"moveType\":\"move_stack\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_2\",\"currentPlayer\":1,\"currentPhase\":\"line_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"ba942af826d72a6f\"}}\n{\"kind\":\"ts-replay-step\",\"k\":3,\"moveType\":\"no_line_action\",\"movePlayer\":1,\"moveNumber\":3,\"summary\":{\"label\":\"after_move_3\",\"currentPlayer\":1,\"currentPhase\":\"territory_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"953dddd5d7306956\"}}\n\nSTDERR:\n{\n  \"kind\": \"ts-replay-error\",\n  \"k\": 4,\n  \"move\": {\n    \"id\": \"simulated\",\n    \"type\": \"place_ring\",\n    \"player\": 2,\n    \"to\": {\n      \"x\": 1,\n      \"y\": 1,\n      \"z\": null\n    },\n    \"captureTarget\": null,\n    \"capturedStacks\": null,\n    \"captureChain\": null,\n    \"overtakenRings\": null,\n    \"placedOnStack\": false,\n    \"placementCount\": 1,\n    \"stackMoved\": null,\n    \"minimumDistance\": null,\n    \"actualDistance\": null,\n    \"markerLeft\": null,\n    \"formedLines\": null,\n    \"collapsedMarkers\": null,\n    \"claimedTerritory\": null,\n    \"disconnectedRegions\": null,\n    \"recoveryOption\": null,\n    \"collapsePositions\": null,\n    \"extractionStacks\": null,\n    \"eliminatedRings\": null,\n    \"timestamp\": \"2025-12-09T06:27:11.092Z\",\n    \"thinkTime\": 0,\n    \"moveNumber\": 2\n  },\n  \"error\": \"[PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\",\n  \"stateSummary\": {\n    \"label\": \"error\",\n    \"currentPlayer\": 1,\n    \"currentPhase\": \"territory_processing\",\n    \"gameStatus\": \"active\",\n    \"moveHistoryLength\": 0,\n    \"stateHash\": \"953dddd5d7306956\"\n  }\n}\n[selfplay-db-ts-replay] Fatal error: Error: [PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\n    at runReplayMode (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:435:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async main (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:672:5)\n"
        },
        {
          "db_path": "/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db",
          "game_id": "23db766e-4893-49a0-b2b6-223966fe3797",
          "structure": "error",
          "structure_reason": "RuntimeError: TS replay harness failed for /Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db / 23db766e-4893-49a0-b2b6-223966fe3797 with code 1:\nSTDOUT:\n[dotenv@17.2.3] injecting env (0) from .env -- tip: \ud83d\udee0\ufe0f  run anywhere with `dotenvx run -- yourcommand`\n{\"kind\":\"ts-replay-initial\",\"dbPath\":\"/Users/armand/Development/RingRift/ai-service/data/games/canonical_square8.db\",\"gameId\":\"23db766e-4893-49a0-b2b6-223966fe3797\",\"totalRecordedMoves\":66,\"summary\":{\"currentPlayer\":1,\"currentPhase\":\"ring_placement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"8fb582fc40b1f137\",\"label\":\"initial\"}}\n{\"kind\":\"ts-replay-step\",\"k\":1,\"moveType\":\"place_ring\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_1\",\"currentPlayer\":1,\"currentPhase\":\"movement\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"d04f45b59f851afc\"}}\n{\"kind\":\"ts-replay-step\",\"k\":2,\"moveType\":\"move_stack\",\"movePlayer\":1,\"moveNumber\":1,\"summary\":{\"label\":\"after_move_2\",\"currentPlayer\":1,\"currentPhase\":\"line_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"2d3102d7ae745a16\"}}\n{\"kind\":\"ts-replay-step\",\"k\":3,\"moveType\":\"no_line_action\",\"movePlayer\":1,\"moveNumber\":3,\"summary\":{\"label\":\"after_move_3\",\"currentPlayer\":1,\"currentPhase\":\"territory_processing\",\"gameStatus\":\"active\",\"moveHistoryLength\":0,\"stateHash\":\"ca8a0c7feb8cd696\"}}\n\nSTDERR:\n{\n  \"kind\": \"ts-replay-error\",\n  \"k\": 4,\n  \"move\": {\n    \"id\": \"simulated\",\n    \"type\": \"place_ring\",\n    \"player\": 2,\n    \"to\": {\n      \"x\": 4,\n      \"y\": 1,\n      \"z\": null\n    },\n    \"captureTarget\": null,\n    \"capturedStacks\": null,\n    \"captureChain\": null,\n    \"overtakenRings\": null,\n    \"placedOnStack\": false,\n    \"placementCount\": 2,\n    \"stackMoved\": null,\n    \"minimumDistance\": null,\n    \"actualDistance\": null,\n    \"markerLeft\": null,\n    \"formedLines\": null,\n    \"collapsedMarkers\": null,\n    \"claimedTerritory\": null,\n    \"disconnectedRegions\": null,\n    \"recoveryOption\": null,\n    \"collapsePositions\": null,\n    \"extractionStacks\": null,\n    \"eliminatedRings\": null,\n    \"timestamp\": \"2025-12-09T06:27:11.092Z\",\n    \"thinkTime\": 0,\n    \"moveNumber\": 2\n  },\n  \"error\": \"[PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\",\n  \"stateSummary\": {\n    \"label\": \"error\",\n    \"currentPlayer\": 1,\n    \"currentPhase\": \"territory_processing\",\n    \"gameStatus\": \"active\",\n    \"moveHistoryLength\": 0,\n    \"stateHash\": \"ca8a0c7feb8cd696\"\n  }\n}\n[selfplay-db-ts-replay] Fatal error: Error: [PHASE_MOVE_INVARIANT] Cannot apply move type 'place_ring' in phase 'territory_processing'\n    at runReplayMode (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:435:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async main (/Users/armand/Development/RingRift/scripts/selfplay-db-ts-replay.ts:672:5)\n"
        }
      ],
      "total_databases": 1,
      "total_games_checked": 14
    },
    "passed_canonical_parity_gate": false,
    "returncode": 0,
    "seed": 42,
    "soak_returncode": 0
  }
}
