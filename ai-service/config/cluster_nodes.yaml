# RingRift Cluster Node Configuration
# ================================================================================
# This file defines all cluster nodes for distributed training and self-play.
# Copy to cluster_nodes.local.yaml for your own deployment.
#
# Node format: {name, host, user, port (optional), gpu, gpu_memory_gb, priority}
# ================================================================================

# ================================================================================
# LAMBDA GH200 CLUSTER (via Tailscale VPN)
# ================================================================================
lambda_gh200_tailscale:
  description: 'Lambda GH200 nodes via Tailscale'
  nodes:
    - { name: gh200-a, host: '100.123.183.70', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: gh200-b, host: '100.83.234.82', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: gh200-c, host: '100.88.35.19', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: gh200-d, host: '100.75.84.47', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: gh200-e, host: '100.88.176.74', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: gh200-f, host: '100.104.165.116', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: gh200-g, host: '100.104.126.58', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: gh200-h, host: '100.65.88.62', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: gh200-i, host: '100.99.27.56', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: gh200-k, host: '100.96.142.42', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: gh200-l, host: '100.76.145.60', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: gh200-m, host: '100.117.177.83', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: gh200-o, host: '100.97.98.26', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: gh200-q, host: '100.66.65.33', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: gh200-s, host: '100.79.109.120', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: h100, host: '100.78.101.123', user: ubuntu, gpu: 'H100 80GB', gpu_memory_gb: 80 }
    - { name: 2xh100, host: '100.97.104.89', user: ubuntu, gpu: '2x H100 80GB', gpu_memory_gb: 160 }
    - { name: a10, host: '100.91.25.13', user: ubuntu, gpu: 'A10 24GB', gpu_memory_gb: 24 }

# ================================================================================
# LAMBDA ADDITIONAL NODES (via Tailscale)
# ================================================================================
lambda_additional_tailscale:
  description: 'Lambda additional nodes via Tailscale'
  nodes:
    - { name: a10-b, host: '100.101.45.4', user: ubuntu, gpu: 'A10 24GB', gpu_memory_gb: 24 }
    - { name: a10-c, host: '100.78.55.103', user: ubuntu, gpu: 'A10 24GB', gpu_memory_gb: 24 }
    - { name: gh200-n, host: '100.85.106.113', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: gh200-r, host: '100.106.0.3', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }
    - { name: gh200-p, host: '100.81.5.33', user: ubuntu, gpu: 'GH200 96GB', gpu_memory_gb: 96 }

# ================================================================================
# VAST.AI INSTANCES
# ================================================================================
vast_ai:
  description: 'Vast.ai GPU instances'
  ssh_key: '~/.ssh/id_cluster'
  nodes:
    - { name: vast-28844365, host: 'ssh5.vast.ai', user: root, port: 14364 }
    - { name: vast-28844370, host: 'ssh2.vast.ai', user: root, port: 14370 }
    - { name: vast-28844401, host: 'ssh1.vast.ai', user: root, port: 14400 }
    - { name: vast-28889766, host: 'ssh3.vast.ai', user: root, port: 19766 }
    - { name: vast-28889768, host: 'ssh2.vast.ai', user: root, port: 19768 }
    - { name: vast-28890015, host: 'ssh9.vast.ai', user: root, port: 10014 }
    - { name: vast-28918742, host: 'ssh8.vast.ai', user: root, port: 38742 }
    - { name: vast-28925166, host: 'ssh1.vast.ai', user: root, port: 15166 }
    - { name: vast-29031159, host: 'ssh5.vast.ai', user: root, port: 31158 }
    - { name: vast-29031161, host: 'ssh2.vast.ai', user: root, port: 31160 }
    - { name: vast-29046315, host: 'ssh2.vast.ai', user: root, port: 16314 }
    - { name: vast-29046316, host: 'ssh6.vast.ai', user: root, port: 16316 }
    - { name: vast-29046317, host: 'ssh7.vast.ai', user: root, port: 16316 }

# ================================================================================
# MAC CLUSTER (Tailscale)
# ================================================================================
mac_cluster_tailscale:
  description: 'Mac cluster via Tailscale'
  nodes:
    - {
        name: mac-studio,
        host: '100.107.168.125',
        user: armand,
        gpu: 'M2 Ultra',
        gpu_memory_gb: 192,
      }
    - { name: mbp-64gb, host: '100.92.222.49', user: armand, gpu: 'M3 Max', gpu_memory_gb: 64 }
    - { name: mbp-16gb, host: '100.66.142.46', user: armand, gpu: 'M1 Pro', gpu_memory_gb: 16 }

# ================================================================================
# MAC CLUSTER (Local Network)
# ================================================================================
mac_cluster_local:
  description: 'Mac cluster on local network'
  nodes:
    - { name: m1-pro-local, host: '10.0.0.108', user: armand }
    - { name: mac-mini-local, host: '10.0.0.62', user: armand }
    - { name: mbp-local, host: '10.0.0.89', user: armand }

# ================================================================================
# AWS NODES (require PEM key)
# ================================================================================
aws_nodes:
  description: 'AWS EC2 nodes'
  ssh_key: '~/.ssh/ringrift-staging-key.pem'
  nodes:
    - { name: aws-staging, host: '100.121.198.28', user: ubuntu }
    - { name: aws-worker, host: '100.115.97.24', user: ubuntu }

# ================================================================================
# TAILSCALE MISC NODES (currently offline)
# ================================================================================
# tailscale_misc:
#   description: 'Miscellaneous Tailscale nodes'
#   ssh_key: '~/.ssh/id_cluster'
#   nodes:
#     - { name: vast-container, host: '100.100.242.64', user: root }
#     - { name: vast-3070-ts, host: '100.74.154.36', user: root, gpu: 'RTX 3070', gpu_memory_gb: 8 }

# ================================================================================
# CONFIGURATION OPTIONS
# ================================================================================
config:
  ssh_timeout: 25
  ssh_connect_timeout: 12
  default_port: 22
  repo_paths:
    - '~/ringrift'
    - '~/RingRift'
    - '~/ai-service'
    - '/root/RingRift'
    - '/root/ringrift'
    - '~/Development/RingRift'
    - '/workspace/RingRift'
    - '/workspace/ringrift'
