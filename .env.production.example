# =============================================================================
# RingRift Production Environment Configuration
# =============================================================================
#
# INSTRUCTIONS:
# 1. Copy this file to .env.production
# 2. Replace ALL placeholder values with real secrets
# 3. NEVER commit .env.production to version control
# 4. Store secrets in a secure secrets manager (HashiCorp Vault, AWS Secrets Manager, etc.)
#
# To generate secrets:
#   openssl rand -base64 48  # For JWT secrets
#   openssl rand -base64 32  # For passwords
#
# =============================================================================

# -----------------------------------------------------------------------------
# Application Version
# -----------------------------------------------------------------------------
VERSION=1.0.0
DOCKER_REGISTRY=ghcr.io/an0mium

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
POSTGRES_DB=ringrift
POSTGRES_USER=ringrift
POSTGRES_PASSWORD=REPLACE_WITH_SECURE_PASSWORD

# Full connection string (update host if using external DB)
DATABASE_URL=postgresql://ringrift:REPLACE_WITH_SECURE_PASSWORD@postgres:5432/ringrift

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_PASSWORD=REPLACE_WITH_SECURE_PASSWORD
REDIS_URL=redis://:REPLACE_WITH_SECURE_PASSWORD@redis:6379

# -----------------------------------------------------------------------------
# Authentication Secrets (MUST be unique, minimum 48 characters)
# -----------------------------------------------------------------------------
# Generate with: openssl rand -base64 48
JWT_SECRET=REPLACE_WITH_48_CHAR_MINIMUM_SECRET
JWT_REFRESH_SECRET=REPLACE_WITH_DIFFERENT_48_CHAR_SECRET
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# Domain Configuration
# -----------------------------------------------------------------------------
# Your production domain (no trailing slash)
DOMAIN=ringrift.example.com

# CORS configuration (comma-separated for multiple origins)
CORS_ORIGIN=https://ringrift.example.com
ALLOWED_ORIGINS=https://ringrift.example.com,https://www.ringrift.example.com

# -----------------------------------------------------------------------------
# Monitoring
# -----------------------------------------------------------------------------
# Generate a secure password for Grafana admin
GRAFANA_PASSWORD=REPLACE_WITH_SECURE_PASSWORD
GRAFANA_ROOT_URL=https://ringrift.example.com:3002

# -----------------------------------------------------------------------------
# AI Service
# -----------------------------------------------------------------------------
AI_LOG_LEVEL=INFO
AI_MAX_CONCURRENT_REQUESTS=100
AI_REQUEST_TIMEOUT=10000

# -----------------------------------------------------------------------------
# Rate Limits (per minute per IP/user)
# -----------------------------------------------------------------------------
RATE_LIMIT_API_POINTS=1000
RATE_LIMIT_AUTH_POINTS=100
RATE_LIMIT_AUTH_LOGIN_POINTS=10
RATE_LIMIT_AUTH_REGISTER_POINTS=5
RATE_LIMIT_GAME_POINTS=500
RATE_LIMIT_GAME_CREATE_USER_POINTS=10
RATE_LIMIT_GAME_CREATE_IP_POINTS=20

# -----------------------------------------------------------------------------
# Capacity Limits
# -----------------------------------------------------------------------------
MAX_CONCURRENT_GAMES=150
MAX_CONCURRENT_CONNECTIONS=500

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=info
